{"version":3,"sources":["Context/AuthContext.js","components/geral/HeaderContent.js","components/geral/EditorHTML.js","components/Posts/FormPost.js","components/Posts/ListsPosts.js","components/Posts.js","components/Login.js","App.js","index.js"],"names":["Context","createContext","AuthProvider","children","useState","status","response","authenticated","setAuthenticated","handleLogin","form_json","a","url_request","fetch","method","headers","body","json","req_login","error","localStorage","setItem","JSON","stringify","Provider","value","URLAPI","authResponse","Header","styled","div","clear","conteudo","refSummer","useRef","useEffect","window","jQuery","$","jquery","$summer","current","summernote","height","lang","textArea","document","createElement","innerHTML","innerText","ref","id","name","titulo","data","statusForm","changeStatusForm","postEdit","refreshList","changeTitulo","changeData","changeConteudo","useContext","alert","setAlert","load","setLoad","clearEditor","setClearEditor","formToJSON","elem","entries","item","key","output","FormData","next","date_curr","Date","getHours","substr","getMinutes","getSeconds","Object","prototype","hasOwnProperty","call","Array","isArray","push","enviarForm","form","credentials","req_cad","enabled","msg","className","role","type","data-dismiss","aria-label","aria-hidden","onSubmit","e","preventDefault","target","onChange","required","defaultValue","undefined","EditorHTML","disabled","posts","onChangeStatusForm","ItemData","str_data","parts_data","split","parts_date","ItemPost","post","removePost","req_remove","ok","console","log","data_publicacao","onClick","width","xmlns","viewBox","fill","d","length","colSpan","map","p","i","setStatusForm","list_posts","setListPosts","setPostEdit","setTitulo","setData","setConteudo","getPosts","list_req","FormPost","handleSubmit","GlobalStyle","createGlobalStyle","NavNavegation","ul","Routers","to","PrivateRoute","exact","path","Home","Posts","Users","CheckRoute","Login","Logout","handleLogout","rest","render","location","pathname","state","from","ReactDOM","App","getElementById"],"mappings":"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","file":"static/js/main.434c7d67.chunk.js","sourcesContent":["import React, { createContext, useState } from 'react'\r\n\r\nconst Context = createContext();\r\n\r\nconst URLAPI = 'http://localhost:9000'\r\n\r\nfunction AuthProvider({ children }) {\r\n\r\n    const [authenticated, setAuthenticated] = useState({\r\n        status: false,\r\n        response: {}\r\n    })\r\n\r\n    const handleLogin = async (form_json) => {\r\n\r\n        try {\r\n            const url_request = `${URLAPI}/login`\r\n\r\n            const req_login = await (await fetch(url_request, {\r\n                method: `POST`,\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: form_json\r\n            })).json()\r\n\r\n            setAuthenticated({\r\n                status: !req_login.error,\r\n                response: req_login\r\n            })\r\n\r\n            if (!req_login.error) {\r\n                localStorage.setItem(\"token\", JSON.stringify(req_login))\r\n            }\r\n\r\n        } catch (error) {\r\n            setAuthenticated({\r\n                status: false,\r\n                response: {}\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <Context.Provider value={{URLAPI, authenticated: authenticated.status, authResponse: authenticated.response, handleLogin }} >\r\n            { children}\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nexport { Context, AuthProvider }","import styled from 'styled-components'\r\n\r\nconst Header = styled.div`\r\n    border-bottom: 1px solid #EEE;\r\n    padding-bottom: 1rem;\r\n    margin-bottom: 1rem;\r\n    \r\n    h3 {\r\n        font-weight: 500;\r\n        margin: 0\r\n    }\r\n`\r\n\r\nexport default Header","import React, { useRef, useEffect } from 'react'\r\nimport $ from 'jquery';\r\nimport 'bootstrap/dist/js/bootstrap.bundle'\r\nimport \"summernote/dist/summernote.css\"\r\nimport \"summernote/dist/summernote\"\r\n\r\n\r\nexport default ({ clear, conteudo }) => {\r\n  const refSummer = useRef(null)\r\n\r\n  useEffect(() => {\r\n    window.jQuery = $;\r\n    window.jquery = $;\r\n    window.$ = $;\r\n\r\n    const $summer = $(refSummer.current);\r\n\r\n    if (clear)\r\n      $summer.summernote('destroy');\r\n\r\n    $summer.summernote({\r\n      height: 200,\r\n      lang: \"pt-BR\"\r\n    });\r\n\r\n    return function destroySummerNote() {\r\n      $summer.summernote('destroy');\r\n    }\r\n\r\n  })\r\n\r\n  let textArea = document.createElement('textarea');\r\n  textArea.innerHTML = conteudo;\r\n\r\n  return (\r\n    <textarea value={textArea.innerText} ref={refSummer} id=\"summernote\" name=\"conteudo\"></textarea>\r\n  )\r\n}","import React, { useState, useContext } from 'react'\r\n\r\nimport { Context } from '../../Context/AuthContext'\r\n\r\nimport EditorHTML from \"../geral/EditorHTML\"\r\nimport Header from \"../geral/HeaderContent\"\r\n\r\nexport default ({ titulo, data, conteudo, statusForm, changeStatusForm, postEdit, refreshList, changeTitulo, changeData, changeConteudo }) => {\r\n\r\n    const { authResponse, URLAPI } = useContext(Context)\r\n\r\n    const [alert, setAlert] = useState({})\r\n    const [load, setLoad] = useState(false)\r\n    const [clearEditor, setClearEditor] = useState(false)\r\n\r\n    const handleChangeTitulo = (e) => {\r\n        e.preventDefault()\r\n        changeTitulo(e.target.value)\r\n    }\r\n\r\n    const handleChangeData = (e) => {\r\n        e.preventDefault()\r\n        changeData(e.target.value)\r\n    }\r\n\r\n    const onSubmitForm = (e) => {\r\n        e.preventDefault()\r\n        setLoad(true)\r\n        enviarForm(e.target)\r\n    }\r\n\r\n    const formToJSON = (elem) => {\r\n        let current, entries, item, key, output, value;\r\n        output = {};\r\n        entries = new FormData(elem).entries();\r\n        // Iterate over values, and assign to item.\r\n        while (item = entries.next().value) {\r\n            // assign to variables to make the code more readable.\r\n            key = item[0];\r\n            value = item[1];\r\n\r\n            if (key === \"id\")\r\n                value = +value\r\n\r\n            if (key === \"data_publicacao\") {\r\n                const date_curr = new Date()\r\n                value = value + \"T\" + (\"0\" + date_curr.getHours()).substr(-2) + \":\" + (\"0\" + date_curr.getMinutes()).substr(-2) + \":\" + (\"0\" + date_curr.getSeconds()).substr(-2) + \"Z\"\r\n            }\r\n\r\n            if (key === \"conteudo\")\r\n                changeConteudo(value)\r\n\r\n            // Check if key already exist\r\n            if (Object.prototype.hasOwnProperty.call(output, key)) {\r\n                current = output[key];\r\n                if (!Array.isArray(current)) {\r\n                    // If it's not an array, convert it to an array.\r\n                    current = output[key] = [current];\r\n                }\r\n                current.push(value); // Add the new value to the array.\r\n            } else {\r\n                output[key] = value;\r\n            }\r\n        }\r\n        return JSON.stringify(output);\r\n    }\r\n\r\n    const enviarForm = async (form) => {\r\n\r\n        try {\r\n\r\n            const url_request = `${URLAPI}/posts${statusForm === \"edit\" ? \"/\" + postEdit.id : \"\"}`\r\n\r\n            const req_cad = await (await fetch(url_request, {\r\n                method: `${statusForm === \"novo\" ? 'POST' : 'PUT'}`,\r\n                credentials: \"same-origin\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Access-Control-Allow-Origin\": \"*\",\r\n                    \"Access-Control-Allow-Credentials\": \"true\",\r\n                    \"Authorization\": `Bearer ${authResponse}`\r\n                },\r\n                body: formToJSON(form)\r\n            })).json()\r\n\r\n            setAlert({\r\n                enabled: true,\r\n                status: req_cad.error ? false : true,\r\n                msg: req_cad.error ? `Não foi possível realizar a operação (${req_cad.error})` : `Post ${statusForm === \"novo\" ? \"cadastrado\" : \"alterado\"} com sucesso`\r\n            })\r\n\r\n            if (!req_cad.error) {\r\n                changeTitulo(\"\")\r\n                changeData(\"\")\r\n                changeConteudo(\"\")\r\n                changeStatusForm(\"novo\")\r\n                setClearEditor(true)\r\n                refreshList()\r\n            }\r\n\r\n        } catch (e) {\r\n            setAlert({\r\n                enabled: true,\r\n                status: false,\r\n                msg: `Não foi possível realizar a operação (${e})`\r\n            })\r\n        }\r\n\r\n        setLoad(false)\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                alert.status &&\r\n                <div className=\"alert alert-success alert-dismissible fade show mt-4\" role=\"alert\">\r\n                    <strong>Sucesso!</strong> {alert.msg}\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            }\r\n\r\n            {\r\n                alert.enabled && !alert.status &&\r\n                <div className=\"alert alert-danger alert-dismissible fade show mt-4\" role=\"alert\">\r\n                    <strong>Erro!</strong> {alert.msg}\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            }\r\n            <div className=\"content\">\r\n                <Header className=\"header\">\r\n                    <h3>{statusForm === \"edit\" ? `Editar Post \"${postEdit.titulo}\"` : \"Gerenciar Posts\"}</h3>\r\n                </Header>\r\n                <form onSubmit={onSubmitForm}>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 col-lg-9\">\r\n                            <div className=\"form-group\">\r\n                                <label>Título do Post:</label>\r\n                                <input value={titulo} onChange={handleChangeTitulo} name=\"titulo\" required className=\"form-control\" />\r\n                                {statusForm === \"edit\" ? <input name=\"id\" type=\"hidden\" defaultValue={postEdit.id} /> : undefined}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-12 col-lg-3\">\r\n                            <div className=\"form-group\">\r\n                                <label>Data do Post:</label>\r\n                                <input value={data} onChange={handleChangeData} type=\"date\" name=\"data_publicacao\" required className=\"form-control\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-12\">\r\n                            <div className=\"form-group\">\r\n                                <label>Conteúdo do Post:</label>\r\n                                <EditorHTML clear={clearEditor} conteudo={conteudo} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-12\">\r\n                            <button disabled={load} className=\"btn btn-primary d-block ml-auto px-5 py-2 font-weight-bold text-uppercase\">{statusForm === \"edit\" ? \"Alterar\" : \"Cadastrar\"}</button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useContext } from 'react'\r\n\r\nimport { Context } from '../../Context/AuthContext'\r\n\r\nimport Header from \"../geral/HeaderContent\"\r\n\r\nexport default ({ posts, refreshList, onChangeStatusForm }) => {\r\n\r\n    const { authResponse, URLAPI } = useContext(Context)\r\n\r\n\r\n    const ItemData = ({ data }) => {\r\n        let str_data = ''\r\n        let parts_data = data.split(\"T\")\r\n\r\n        let parts_date = parts_data[0].split(\"-\")\r\n        str_data += parts_date[2] + \"/\" + parts_date[1] + \"/\" + parts_date[0]\r\n\r\n        str_data += \" \" + parts_data[1].substr(0, 8)\r\n\r\n        return str_data\r\n    }\r\n\r\n    const ItemPost = ({ post }) => {\r\n\r\n        const editPost = () => {\r\n            onChangeStatusForm(post)\r\n        }\r\n\r\n        const removePost = async () => {\r\n\r\n\r\n            try {\r\n                const url_request = `${URLAPI}/posts/${post.id}`\r\n\r\n                const req_remove = await fetch(url_request, {\r\n                    method: \"DELETE\",\r\n                    credentials: \"same-origin\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        \"Access-Control-Allow-Origin\": \"*\",\r\n                        \"Access-Control-Allow-Credentials\": \"true\",\r\n                        \"Authorization\": `Bearer ${authResponse}`\r\n                    }\r\n                })\r\n\r\n                if (req_remove.ok && req_remove.status === 204)\r\n                    refreshList()\r\n\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n\r\n        }\r\n\r\n        return (\r\n            <tr>\r\n                <td className=\"text-center\">{post.id}</td>\r\n                <td>{post.titulo}</td>\r\n                <td><ItemData data={post.data_publicacao} /></td>\r\n                <td className=\"text-center\">\r\n                    <button onClick={editPost} className=\"btn btn-primary\">\r\n                        <svg width={`1em`} height={`1em`} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z\" ></path></svg>\r\n                    </button>\r\n                    <button onClick={removePost} className=\"btn btn-danger ml-2\">\r\n                        <svg width={`1.1em`} height={`1.1em`} role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 352 512\" ><path fill=\"currentColor\" d=\"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\" ></path></svg>\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            <Header className=\"header\">\r\n                <h3>Lista de Post</h3>\r\n            </Header>\r\n            <table className=\"table table-striped table-hover\">\r\n                <thead>\r\n                    <tr>\r\n                        <th className=\"border-top-0 text-center\">ID</th>\r\n                        <th className=\"border-top-0\">Título</th>\r\n                        <th className=\"border-top-0\">Data Publicação</th>\r\n                        <th width={190} className=\"border-top-0 text-center\">Ações</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {posts.length === 0 && <tr><td className=\"text-center\" colSpan=\"4\">Nenhum Post encontrado.</td></tr>}\r\n                    {posts.length > 0 && posts.map((p, i) => <ItemPost post={p} key={i} />)}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState, useContext } from 'react'\r\n\r\nimport { Context } from '../Context/AuthContext'\r\n\r\nimport FormPost from './Posts/FormPost'\r\nimport ListPosts from './Posts/ListsPosts'\r\n\r\nexport default () => {\r\n\r\n    const { URLAPI } = useContext(Context)\r\n\r\n    const [statusForm, setStatusForm] = useState(\"novo\") // novo, atualizar\r\n    const [list_posts, setListPosts] = useState([])\r\n\r\n    const [postEdit, setPostEdit] = useState({})\r\n    const [titulo, setTitulo] = useState(\"\")\r\n    const [data, setData] = useState(\"\")\r\n    const [conteudo, setConteudo] = useState(\"\")\r\n\r\n    const onChangeForm = (post) => {\r\n        setStatusForm(\"edit\")\r\n        setTitulo(post.titulo)\r\n        setData(post.data_publicacao.substr(0, 10))\r\n        setConteudo(post.conteudo)\r\n        setPostEdit(post)\r\n    }\r\n\r\n    const getPosts = async () => {\r\n        const url_request = `${URLAPI}/posts`\r\n\r\n        try {\r\n            const list_req = await (await fetch(url_request, {\r\n                method: \"GET\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n            })).json()\r\n\r\n            setListPosts(list_req)\r\n\r\n        } catch (error) { }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getPosts()\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <FormPost titulo={titulo} data={data} conteudo={conteudo} changeTitulo={setTitulo} changeData={setData} changeConteudo={setConteudo} statusForm={statusForm} changeStatusForm={setStatusForm} postEdit={postEdit} refreshList={getPosts} />\r\n            <ListPosts onChangeStatusForm={onChangeForm} refreshList={getPosts} posts={list_posts} />\r\n        </>\r\n    )\r\n}","import React, { useContext } from 'react'\r\n\r\nimport Header from \"./geral/HeaderContent\"\r\n\r\nimport { Context } from '../Context/AuthContext'\r\n\r\nconst formToJSON = (elem) => {\r\n    let current, entries, item, key, output, value;\r\n    output = {};\r\n    entries = new FormData(elem).entries();\r\n    // Iterate over values, and assign to item.\r\n    while (item = entries.next().value) {\r\n        // assign to variables to make the code more readable.\r\n        key = item[0];\r\n        value = item[1];\r\n\r\n        // Check if key already exist\r\n        if (Object.prototype.hasOwnProperty.call(output, key)) {\r\n            current = output[key];\r\n            if (!Array.isArray(current)) {\r\n                // If it's not an array, convert it to an array.\r\n                current = output[key] = [current];\r\n            }\r\n            current.push(value); // Add the new value to the array.\r\n        } else {\r\n            output[key] = value;\r\n        }\r\n    }\r\n    return JSON.stringify(output);\r\n}\r\n\r\nexport default () => {\r\n    const { authenticated, authResponse, handleLogin } = useContext(Context)\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        const form_json = formToJSON(e.target)\r\n        handleLogin(form_json)   \r\n    }  \r\n\r\n    return (\r\n        <>\r\n            {\r\n                !authenticated && authResponse.error &&\r\n                <div className=\"alert alert-danger alert-dismissible fade show mt-4\" role=\"alert\">\r\n                    <strong>Erro!</strong> {authResponse.error}\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            }\r\n            <div className=\"content\">\r\n                <Header className=\"header\">\r\n                    <h3>Login</h3>\r\n                </Header>\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label>Email:</label>\r\n                        <input name=\"email\" type=\"email\" required className=\"form-control\" />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Senha:</label>\r\n                        <input name=\"senha\" type=\"password\" required className=\"form-control\" />\r\n                    </div>\r\n                    <button className=\"btn btn-primary d-block ml-auto px-5 py-2 font-weight-bold text-uppercase\">Login</button>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useContext } from 'react'\r\nimport styled, { createGlobalStyle } from 'styled-components'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    Redirect,\r\n    useHistory,\r\n    useLocation\r\n} from \"react-router-dom\";\r\n\r\nimport { AuthProvider, Context } from './Context/AuthContext'\r\n\r\nimport Header from './components/geral/HeaderContent'\r\nimport Posts from './components/Posts'\r\nimport Login from './components/Login'\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n    body {\r\n        background: #F6F6F6\r\n    }\r\n    html, body {\r\n        height: 100%\r\n    }\r\n    #root {\r\n        min-height: 100%\r\n    }\r\n    .container {\r\n        margin-top: 2rem;\r\n        margin-bottom: 2rem\r\n    }\r\n    .content {\r\n        background: #FFF;\r\n        border-radius: .4rem;\r\n        border: 1px solid #EFEFEF;\r\n        margin: 1.5rem 0 0;\r\n        padding: 1rem 1.5rem 1.5rem\r\n    }\r\n    table.table th, table.table td {\r\n        vertical-align: middle\r\n    }\r\n`\r\n\r\nconst NavNavegation = styled.ul`\r\n    background: #FFF;\r\n    border-radius: .4rem;\r\n    border: 1px solid #EFEFEF;\r\n\r\n    .nav-link {\r\n        padding: .9rem 1.7rem\r\n    }\r\n\r\n`\r\n\r\nexport default () => {\r\n    return (\r\n        <AuthProvider>\r\n            <Routers />\r\n        </AuthProvider>\r\n    )\r\n}\r\n\r\nfunction Routers() {\r\n    const { authenticated } = useContext(Context)\r\n\r\n    console.log(authenticated);\r\n\r\n    return (\r\n        <Router>\r\n            <GlobalStyle />\r\n            <div className=\"container\">\r\n                <NavNavegation className=\"nav\">\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/\">Home</Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/posts\">Posts</Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/usuarios\">Usuários</Link>\r\n                    </li>\r\n                    {\r\n                        authenticated &&\r\n                        <li className=\"nav-item\">\r\n                            <Link className=\"nav-link\" to=\"/logout\">Logout</Link>\r\n                        </li>\r\n                    }\r\n\r\n                </NavNavegation>\r\n                <Switch>\r\n                    <PrivateRoute exact path=\"/\" >\r\n                        <Home />\r\n                    </PrivateRoute>\r\n                    <PrivateRoute path=\"/posts\" >\r\n                        <Posts />\r\n                    </PrivateRoute>\r\n                    <Route path=\"/usuarios\">\r\n                        <Users />\r\n                    </Route>\r\n                    <CheckRoute path=\"/login\">\r\n                        <Login />\r\n                    </CheckRoute>\r\n                    <Route path=\"/logout\">\r\n                        <Logout />\r\n                    </Route>\r\n                </Switch>\r\n            </div>\r\n        </Router>\r\n    )\r\n}\r\n\r\nfunction Logout() {\r\n    const { handleLogout } = useContext(Context)\r\n\r\n    console.log(handleLogout);\r\n\r\n    /*\r\n        const { handleLogout } = useContext(Context)\r\n    \r\n        handleLogout()*/\r\n\r\n    return null\r\n}\r\n\r\nfunction Home() {\r\n    const { authenticated } = useContext(Context)\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            <Header>\r\n                <h3>Home</h3>\r\n            </Header>\r\n            {authenticated ? 'Logado' : 'Logout'}\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Users() {\r\n    return (\r\n        <div className=\"content\">\r\n            <Header>\r\n                <h3>Usuários</h3>\r\n            </Header>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction CheckRoute({ children, ...rest }) {\r\n    const { authenticated } = useContext(Context)\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={\r\n                ({ location }) =>\r\n                    !authenticated ? (\r\n                        children\r\n                    ) : (\r\n                            <Redirect\r\n                                to={{\r\n                                    pathname: \"/\",\r\n                                    state: { from: location }\r\n                                }}\r\n                            />\r\n                        )\r\n            }\r\n        />\r\n    )\r\n\r\n}\r\n\r\n// A wrapper for <Route> that redirects to the login\r\n// screen if you're not yet authenticated.\r\nfunction PrivateRoute({ children, ...rest }) {\r\n    const { authenticated } = useContext(Context)\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={({ location }) =>\r\n                authenticated ? (\r\n                    children\r\n                ) : (\r\n                        <Redirect\r\n                            to={{\r\n                                pathname: \"/login\",\r\n                                state: { from: location }\r\n                            }}\r\n                        />\r\n                    )\r\n            }\r\n        />\r\n    );\r\n}","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport App from './App'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nReactDOM.render(\r\n    <App/>,\r\n    document.getElementById(\"root\")\r\n)"],"sourceRoot":""}